import{q as S,r as l,W as y,j as e}from"./app-L0PSAVpr.js";import{P as W}from"./PatientLayout-CRY9O20D.js";import"./lodash-yc3-dXev.js";import{U as E}from"./index-By_hpiMW.js";import{B as t,F as i,a as m}from"./chunk-KRPLQIP4-fYYjkn2x.js";import{S as j}from"./chunk-ZHMYA64R-IzX89jau.js";import{A as F}from"./iconBase-CFOGbe_U.js";import"./Logo-CaItQl7L.js";import"./chunk-VDHTZURG-DSmPYxby.js";import"./chunk-FKYN3ZGE-DOOEPOXc.js";import"./chunk-5FG5SY5K-C5AlxDTD.js";import"./chunk-4FCEGNGT-EneP8hbN.js";import"./defineProperty-DmAPQKcv.js";import"./chunk-6CVSDS6C-B9zz3TE0.js";import"./chunk-RAWN7VJ3-E1yKru_Q.js";import"./index-DqaguTlk.js";import"./index-DdrsuNi1.js";import"./dayjs.min-COpRIwMP.js";const C=(n,r)=>{const s=new FileReader;s.addEventListener("load",()=>r(s.result)),s.readAsDataURL(n)};function Q(){const{auth:n}=S().props,{patient:r}=n,[s,c]=l.useState(!1),[D,d]=l.useState(!1),[a,p]=l.useState(""),{data:R,setData:u,patch:U,post:f,put:A,reset:g,processing:x}=y({avatar:{}}),h=()=>{g("avatar"),p("")},b=o=>{if(o.file.status==="uploading"){d(!0);return}o.file.status==="done"&&(u("avatar",o.file.originFileObj),C(o.file.originFileObj,v=>{d(!1),p(v)}))},w=()=>{f(route("patient.update.avatar",{patient:r.id}),{onSuccess:()=>h()})};return e.jsx(W,{state:"profile",children:e.jsxs(t,{mt:"80px",children:[e.jsx(t,{fontSize:"32px",color:"#1366DE",w:"fit-content",mx:"auto",my:"36px",children:"Profile"}),e.jsx(t,{w:"100%",h:"auto",pt:"10px",bg:"#E8F0FC",children:e.jsxs(t,{w:"60%",h:"100%",p:"20px 36px 60px",borderTopRadius:"25px",border:"gray.200",mx:"auto",bg:"white",children:[e.jsx(i,{justify:"space-between",align:"center",fontSize:"34px",children:e.jsx(t,{fontWeight:"bold",children:"Your profile"})}),e.jsxs(j,{w:"100%",h:"60vh",mt:"20px",spacing:2,children:[e.jsx(i,{w:"100%",justify:"center",children:e.jsxs(t,{position:"relative",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[e.jsx(F,{name:r.name,src:a||r.avatar,bg:"#1366DE",color:"white",size:"2xl"}),s?e.jsx(i,{justify:"center",align:"center",position:"absolute",top:0,left:"50%",right:0,bottom:0,transform:"translateX(-50%)",w:"100%",borderRadius:"50%",bg:"linear-gradient(0deg, rgba(2,0,36,1) 0%, rgba(255,255,255,0.7591841668307948) 88%)",children:e.jsx(t,{pl:"9px",children:e.jsx(E,{accept:"image/*",listType:"picture-circle",showUploadList:!1,maxCount:1,customRequest:({onSuccess:o})=>setTimeout(()=>{o("ok",null)},0),onChange:b,children:e.jsxs(i,{w:"100%",direction:"column",align:"center",fontWeight:"bold",color:"white",children:[e.jsx(t,{mt:"8px",children:"Upload"}),e.jsx(t,{mt:"4px",children:"Avatar"})]})})})}):""]})}),e.jsx(i,{w:"100%",justify:"center",children:e.jsx(t,{fontWeight:"bold",fontSize:"20px",children:r.name})}),e.jsx(t,{mt:"56px",mx:"10%",fontWeight:"bold",children:"General information"}),e.jsxs(j,{w:"90%",p:"16px",mx:"10%",fontSize:"16px",spacing:2,border:"1px solid gray",borderRadius:"lg",children:[e.jsxs(i,{w:"100%",children:[e.jsx(t,{fontWeight:"bold",w:"20%",children:"Email:"}),e.jsx(t,{w:"80%",children:r.email})]}),e.jsxs(i,{w:"100%",children:[e.jsx(t,{fontWeight:"bold",w:"20%",children:"Phone:"}),e.jsx(t,{w:"80%",children:r.phone})]}),e.jsxs(i,{w:"100%",children:[e.jsx(t,{fontWeight:"bold",w:"20%",children:"Date of birth:"}),e.jsx(t,{w:"80%",children:r.date_of_birth})]}),e.jsxs(i,{w:"100%",children:[e.jsx(t,{fontWeight:"bold",w:"20%",children:"Age:"}),e.jsx(t,{w:"80%",children:r.age})]})]}),a?e.jsxs(i,{w:"90%",mx:"10%",mt:"16px",justify:"flex-end",children:[e.jsx(m,{onClick:h,colorScheme:"red",color:"white",isDisabled:x,children:"Cancel"}),e.jsx(m,{onClick:w,colorScheme:"blue",color:"white",isDisabled:x,ml:"8px",children:"Save"})]}):e.jsx(e.Fragment,{})]})]})})]})})}export{Q as default};
