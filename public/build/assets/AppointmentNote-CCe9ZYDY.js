import{c as xe,f as te,j as e,a as ae,u as be,o as ye,g as we,b as me,d as Ce,r as T,W as Se,q as De}from"./app-DmHSQUrN.js";import{G as fe}from"./iconBase-D2yQHSeX.js";import{d as Ee}from"./dayjs.min-d0VlGjK2.js";import{r as ze,M as Pe,a as Me,b as Re,c as We}from"./chunk-4FCEGNGT-thZHK0AS.js";import{D as ke}from"./DoctorLayout-CL6AJZKz.js";import{t as Te}from"./TestResultList-lJQkpfOv.js";import"./lodash-kzw5pq0-.js";import{B as l,F as b,a as F}from"./chunk-KRPLQIP4-BozMeS5C.js";import{H as Q}from"./chunk-3ASUQ6PA-DkVljmTc.js";import{S as I}from"./chunk-ZHMYA64R-DUvhDlV8.js";import{u as Ae,F as L,I as q}from"./chunk-6CVSDS6C-8LyA6Vx3.js";import{F as O}from"./chunk-VGESXGVT-BT49bGMC.js";import{u as Le,I as Oe}from"./chunk-FKYN3ZGE-Mj7VFtle.js";import{S as he}from"./chunk-3RSXBRAN-DznVhR4D.js";import{C as Be}from"./chunk-CWVAJCXJ-BNoy8HyM.js";import{U as Fe,B as Ie}from"./index-Dfe_2bV_.js";import{M as Ne,a as Ue}from"./chunk-RAWN7VJ3-DLEVrbEz.js";import{M as $e}from"./chunk-5FG5SY5K-Da6DOXaB.js";import{u as Ye}from"./chunk-7JBTTEVG-D6Kanqzm.js";import"./defineProperty-DmAPQKcv.js";import"./Logo-Cr2pyXQ1.js";import"./index-DdrsuNi1.js";import"./index-CVFU47yN.js";var qe={left:{marginEnd:"-1px",borderEndRadius:0,borderEndColor:"transparent"},right:{marginStart:"-1px",borderStartRadius:0,borderStartColor:"transparent"}},He=xe("div",{baseStyle:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap"}}),le=te(function(r,o){var i;const{placement:s="left",...h}=r,n=(i=qe[s])!=null?i:{},p=Le();return e.jsx(He,{ref:o,...h,__css:{...p.addon,...n}})});le.displayName="InputAddon";var ge=te(function(r,o){return e.jsx(le,{ref:o,placement:"left",...r,className:ae("chakra-input__left-addon",r.className)})});ge.displayName="InputLeftAddon";ge.id="InputLeftAddon";var de=te(function(r,o){return e.jsx(le,{ref:o,placement:"right",...r,className:ae("chakra-input__right-addon",r.className)})});de.displayName="InputRightAddon";de.id="InputRightAddon";function Ve(t,r=[]){const o=Object.assign({},t);for(const i of r)i in o&&delete o[i];return o}var Ge=["h","minH","height","minHeight"],ee=te((t,r)=>{const o=be("Textarea",t),{className:i,rows:s,...h}=ye(t),n=Ae(h),p=s?Ve(o,Ge):o;return e.jsx(xe.textarea,{ref:r,rows:s,...n,className:ae("chakra-textarea",i),__css:p})});ee.displayName="Textarea";function ie(t){return fe({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M0.877075 7.49988C0.877075 3.84219 3.84222 0.877045 7.49991 0.877045C11.1576 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1576 14.1227 7.49991 14.1227C3.84222 14.1227 0.877075 11.1575 0.877075 7.49988ZM7.49991 1.82704C4.36689 1.82704 1.82708 4.36686 1.82708 7.49988C1.82708 10.6329 4.36689 13.1727 7.49991 13.1727C10.6329 13.1727 13.1727 10.6329 13.1727 7.49988C13.1727 4.36686 10.6329 1.82704 7.49991 1.82704ZM9.85358 5.14644C10.0488 5.3417 10.0488 5.65829 9.85358 5.85355L8.20713 7.49999L9.85358 9.14644C10.0488 9.3417 10.0488 9.65829 9.85358 9.85355C9.65832 10.0488 9.34173 10.0488 9.14647 9.85355L7.50002 8.2071L5.85358 9.85355C5.65832 10.0488 5.34173 10.0488 5.14647 9.85355C4.95121 9.65829 4.95121 9.3417 5.14647 9.14644L6.79292 7.49999L5.14647 5.85355C4.95121 5.65829 4.95121 5.3417 5.14647 5.14644C5.34173 4.95118 5.65832 4.95118 5.85358 5.14644L7.50002 6.79289L9.14647 5.14644C9.34173 4.95118 9.65832 4.95118 9.85358 5.14644Z",fill:"currentColor"},child:[]}]})(t)}function Xe(t){return fe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"m16 6-4-4-4 4"},child:[]},{tag:"path",attr:{d:"M12 2v8"},child:[]},{tag:"rect",attr:{width:"20",height:"8",x:"2",y:"14",rx:"2"},child:[]},{tag:"path",attr:{d:"M6 18h.01"},child:[]},{tag:"path",attr:{d:"M10 18h.01"},child:[]}]})(t)}var ve={exports:{}};/*!
 * Signature Pad v2.3.2
 * https://github.com/szimek/signature_pad
 *
 * Copyright 2017 Szymon Nowak
 * Released under the MIT license
 *
 * The main idea and some parts of the code (e.g. drawing variable width Bézier curve) are taken from:
 * http://corner.squareup.com/2012/07/smoother-signatures.html
 *
 * Implementation of interpolation using cubic Bézier curves is taken from:
 * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript
 *
 * Algorithm for approximated length of a Bézier curve is taken from:
 * http://www.lemoda.net/maths/bezier-length/index.html
 *
 */function U(t,r,o){this.x=t,this.y=r,this.time=o||new Date().getTime()}U.prototype.velocityFrom=function(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):1};U.prototype.distanceTo=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))};U.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.time===t.time};function ce(t,r,o,i){this.startPoint=t,this.control1=r,this.control2=o,this.endPoint=i}ce.prototype.length=function(){for(var t=10,r=0,o=void 0,i=void 0,s=0;s<=t;s+=1){var h=s/t,n=this._point(h,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),p=this._point(h,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(s>0){var c=n-o,d=p-i;r+=Math.sqrt(c*c+d*d)}o=n,i=p}return r};ce.prototype._point=function(t,r,o,i,s){return r*(1-t)*(1-t)*(1-t)+3*o*(1-t)*(1-t)*t+3*i*(1-t)*t*t+s*t*t*t};function Ze(t,r,o){var i,s,h,n=null,p=0;o||(o={});var c=function(){p=o.leading===!1?0:Date.now(),n=null,h=t.apply(i,s),n||(i=s=null)};return function(){var d=Date.now();!p&&o.leading===!1&&(p=d);var u=r-(d-p);return i=this,s=arguments,u<=0||u>r?(n&&(clearTimeout(n),n=null),p=d,h=t.apply(i,s),n||(i=s=null)):!n&&o.trailing!==!1&&(n=setTimeout(c,u)),h}}function w(t,r){var o=this,i=r||{};this.velocityFilterWeight=i.velocityFilterWeight||.7,this.minWidth=i.minWidth||.5,this.maxWidth=i.maxWidth||2.5,this.throttle="throttle"in i?i.throttle:16,this.minDistance="minDistance"in i?i.minDistance:5,this.throttle?this._strokeMoveUpdate=Ze(w.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=w.prototype._strokeUpdate,this.dotSize=i.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=i.penColor||"black",this.backgroundColor=i.backgroundColor||"rgba(0,0,0,0)",this.onBegin=i.onBegin,this.onEnd=i.onEnd,this._canvas=t,this._ctx=t.getContext("2d"),this.clear(),this._handleMouseDown=function(s){s.which===1&&(o._mouseButtonDown=!0,o._strokeBegin(s))},this._handleMouseMove=function(s){o._mouseButtonDown&&o._strokeMoveUpdate(s)},this._handleMouseUp=function(s){s.which===1&&o._mouseButtonDown&&(o._mouseButtonDown=!1,o._strokeEnd(s))},this._handleTouchStart=function(s){if(s.targetTouches.length===1){var h=s.changedTouches[0];o._strokeBegin(h)}},this._handleTouchMove=function(s){s.preventDefault();var h=s.targetTouches[0];o._strokeMoveUpdate(h)},this._handleTouchEnd=function(s){var h=s.target===o._canvas;h&&(s.preventDefault(),o._strokeEnd(s))},this.on()}w.prototype.clear=function(){var t=this._ctx,r=this._canvas;t.fillStyle=this.backgroundColor,t.clearRect(0,0,r.width,r.height),t.fillRect(0,0,r.width,r.height),this._data=[],this._reset(),this._isEmpty=!0};w.prototype.fromDataURL=function(t){var r=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=new Image,s=o.ratio||window.devicePixelRatio||1,h=o.width||this._canvas.width/s,n=o.height||this._canvas.height/s;this._reset(),i.src=t,i.onload=function(){r._ctx.drawImage(i,0,0,h,n)},this._isEmpty=!1};w.prototype.toDataURL=function(t){var r;switch(t){case"image/svg+xml":return this._toSVG();default:for(var o=arguments.length,i=Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];return(r=this._canvas).toDataURL.apply(r,[t].concat(i))}};w.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()};w.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)};w.prototype.isEmpty=function(){return this._isEmpty};w.prototype._strokeBegin=function(t){this._data.push([]),this._reset(),this._strokeUpdate(t),typeof this.onBegin=="function"&&this.onBegin(t)};w.prototype._strokeUpdate=function(t){var r=t.clientX,o=t.clientY,i=this._createPoint(r,o),s=this._data[this._data.length-1],h=s&&s[s.length-1],n=h&&i.distanceTo(h)<this.minDistance;if(!(h&&n)){var p=this._addPoint(i),c=p.curve,d=p.widths;c&&d&&this._drawCurve(c,d.start,d.end),this._data[this._data.length-1].push({x:i.x,y:i.y,time:i.time,color:this.penColor})}};w.prototype._strokeEnd=function(t){var r=this.points.length>2,o=this.points[0];if(!r&&o&&this._drawDot(o),o){var i=this._data[this._data.length-1],s=i[i.length-1];o.equals(s)||i.push({x:o.x,y:o.y,time:o.time,color:this.penColor})}typeof this.onEnd=="function"&&this.onEnd(t)};w.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)};w.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)};w.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor};w.prototype._createPoint=function(t,r,o){var i=this._canvas.getBoundingClientRect();return new U(t-i.left,r-i.top,o||new Date().getTime())};w.prototype._addPoint=function(t){var r=this.points,o=void 0;if(r.push(t),r.length>2){r.length===3&&r.unshift(r[0]),o=this._calculateCurveControlPoints(r[0],r[1],r[2]);var i=o.c2;o=this._calculateCurveControlPoints(r[1],r[2],r[3]);var s=o.c1,h=new ce(r[1],i,s,r[2]),n=this._calculateCurveWidths(h);return r.shift(),{curve:h,widths:n}}return{}};w.prototype._calculateCurveControlPoints=function(t,r,o){var i=t.x-r.x,s=t.y-r.y,h=r.x-o.x,n=r.y-o.y,p={x:(t.x+r.x)/2,y:(t.y+r.y)/2},c={x:(r.x+o.x)/2,y:(r.y+o.y)/2},d=Math.sqrt(i*i+s*s),u=Math.sqrt(h*h+n*n),m=p.x-c.x,v=p.y-c.y,S=u/(d+u),D={x:c.x+m*S,y:c.y+v*S},C=r.x-D.x,y=r.y-D.y;return{c1:new U(p.x+C,p.y+y),c2:new U(c.x+C,c.y+y)}};w.prototype._calculateCurveWidths=function(t){var r=t.startPoint,o=t.endPoint,i={start:null,end:null},s=this.velocityFilterWeight*o.velocityFrom(r)+(1-this.velocityFilterWeight)*this._lastVelocity,h=this._strokeWidth(s);return i.start=this._lastWidth,i.end=h,this._lastVelocity=s,this._lastWidth=h,i};w.prototype._strokeWidth=function(t){return Math.max(this.maxWidth/(t+1),this.minWidth)};w.prototype._drawPoint=function(t,r,o){var i=this._ctx;i.moveTo(t,r),i.arc(t,r,o,0,2*Math.PI,!1),this._isEmpty=!1};w.prototype._drawCurve=function(t,r,o){var i=this._ctx,s=o-r,h=Math.floor(t.length());i.beginPath();for(var n=0;n<h;n+=1){var p=n/h,c=p*p,d=c*p,u=1-p,m=u*u,v=m*u,S=v*t.startPoint.x;S+=3*m*p*t.control1.x,S+=3*u*c*t.control2.x,S+=d*t.endPoint.x;var D=v*t.startPoint.y;D+=3*m*p*t.control1.y,D+=3*u*c*t.control2.y,D+=d*t.endPoint.y;var C=r+d*s;this._drawPoint(S,D,C)}i.closePath(),i.fill()};w.prototype._drawDot=function(t){var r=this._ctx,o=typeof this.dotSize=="function"?this.dotSize():this.dotSize;r.beginPath(),this._drawPoint(t.x,t.y,o),r.closePath(),r.fill()};w.prototype._fromData=function(t,r,o){for(var i=0;i<t.length;i+=1){var s=t[i];if(s.length>1)for(var h=0;h<s.length;h+=1){var n=s[h],p=new U(n.x,n.y,n.time),c=n.color;if(h===0)this.penColor=c,this._reset(),this._addPoint(p);else if(h!==s.length-1){var d=this._addPoint(p),u=d.curve,m=d.widths;u&&m&&r(u,m,c)}}else{this._reset();var v=s[0];o(v)}}};w.prototype._toSVG=function(){var t=this,r=this._data,o=this._canvas,i=Math.max(window.devicePixelRatio||1,1),s=0,h=0,n=o.width/i,p=o.height/i,c=document.createElementNS("http://www.w3.org/2000/svg","svg");c.setAttributeNS(null,"width",o.width),c.setAttributeNS(null,"height",o.height),this._fromData(r,function(g,R,k){var E=document.createElement("path");if(!isNaN(g.control1.x)&&!isNaN(g.control1.y)&&!isNaN(g.control2.x)&&!isNaN(g.control2.y)){var H="M "+g.startPoint.x.toFixed(3)+","+g.startPoint.y.toFixed(3)+" "+("C "+g.control1.x.toFixed(3)+","+g.control1.y.toFixed(3)+" ")+(g.control2.x.toFixed(3)+","+g.control2.y.toFixed(3)+" ")+(g.endPoint.x.toFixed(3)+","+g.endPoint.y.toFixed(3));E.setAttribute("d",H),E.setAttribute("stroke-width",(R.end*2.25).toFixed(3)),E.setAttribute("stroke",k),E.setAttribute("fill","none"),E.setAttribute("stroke-linecap","round"),c.appendChild(E)}},function(g){var R=document.createElement("circle"),k=typeof t.dotSize=="function"?t.dotSize():t.dotSize;R.setAttribute("r",k),R.setAttribute("cx",g.x),R.setAttribute("cy",g.y),R.setAttribute("fill",g.color),c.appendChild(R)});var d="data:image/svg+xml;base64,",u='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"'+(' viewBox="'+s+" "+h+" "+n+" "+p+'"')+(' width="'+n+'"')+(' height="'+p+'"')+">",m=c.innerHTML;if(m===void 0){var v=document.createElement("dummy"),S=c.childNodes;v.innerHTML="";for(var D=0;D<S.length;D+=1)v.appendChild(S[D].cloneNode(!0));m=v.innerHTML}var C="</svg>",y=u+m+C;return d+btoa(y)};w.prototype.fromData=function(t){var r=this;this.clear(),this._fromData(t,function(o,i){return r._drawCurve(o,i.start,i.end)},function(o){return r._drawDot(o)}),this._data=t};w.prototype.toData=function(){return this._data};const Je=Object.freeze(Object.defineProperty({__proto__:null,default:w},Symbol.toStringTag,{value:"Module"})),Ke=we(Je);var re={exports:{}},pe;function Qe(){return pe||(pe=1,function(t,r){(function(o,i){t.exports=i()})(me,function(){return function(o){function i(h){if(s[h])return s[h].exports;var n=s[h]={exports:{},id:h,loaded:!1};return o[h].call(n.exports,n,n.exports,i),n.loaded=!0,n.exports}var s={};return i.m=o,i.c=s,i.p="",i(0)}([function(o,i){function s(d){var u=d.getContext("2d"),m=d.width,v=d.height,S=u.getImageData(0,0,m,v).data,D=p(!0,m,v,S),C=p(!1,m,v,S),y=c(!0,m,v,S),g=c(!1,m,v,S),R=g-y+1,k=C-D+1,E=u.getImageData(y,D,R,k);return d.width=R,d.height=k,u.clearRect(0,0,R,k),u.putImageData(E,0,0),d}function h(d,u,m,v){return{red:v[4*(m*u+d)],green:v[4*(m*u+d)+1],blue:v[4*(m*u+d)+2],alpha:v[4*(m*u+d)+3]}}function n(d,u,m,v){return h(d,u,m,v).alpha}function p(d,u,m,v){for(var S=d?1:-1,D=d?0:m-1,C=D;d?C<m:C>-1;C+=S)for(var y=0;y<u;y++)if(n(y,C,u,v))return C;return null}function c(d,u,m,v){for(var S=d?1:-1,D=d?0:u-1,C=D;d?C<u:C>-1;C+=S)for(var y=0;y<m;y++)if(n(C,y,u,v))return C;return null}Object.defineProperty(i,"__esModule",{value:!0}),i.default=s}])})}(re)),re.exports}(function(t,r){(function(o,i){t.exports=i(ze(),T,Ke,Qe())})(me,function(o,i,s,h){return function(n){function p(d){if(c[d])return c[d].exports;var u=c[d]={exports:{},id:d,loaded:!1};return n[d].call(u.exports,u,u.exports,p),u.loaded=!0,u.exports}var c={};return p.m=n,p.c=c,p.p="",p(0)}([function(n,p,c){function d(_){return _&&_.__esModule?_:{default:_}}function u(_,f){var M={};for(var z in _)f.indexOf(z)>=0||Object.prototype.hasOwnProperty.call(_,z)&&(M[z]=_[z]);return M}function m(_,f){if(!(_ instanceof f))throw new TypeError("Cannot call a class as a function")}function v(_,f){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||typeof f!="object"&&typeof f!="function"?_:f}function S(_,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);_.prototype=Object.create(f&&f.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(_,f):_.__proto__=f)}Object.defineProperty(p,"__esModule",{value:!0});var D=Object.assign||function(_){for(var f=1;f<arguments.length;f++){var M=arguments[f];for(var z in M)Object.prototype.hasOwnProperty.call(M,z)&&(_[z]=M[z])}return _},C=function(){function _(f,M){for(var z=0;z<M.length;z++){var x=M[z];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(f,x.key,x)}}return function(f,M,z){return M&&_(f.prototype,M),z&&_(f,z),f}}(),y=c(1),g=d(y),R=c(2),k=d(R),E=c(3),H=d(E),ne=c(4),G=d(ne),$=function(_){function f(){var M,z,x,X;m(this,f);for(var Z=arguments.length,J=Array(Z),B=0;B<Z;B++)J[B]=arguments[B];return z=x=v(this,(M=f.__proto__||Object.getPrototypeOf(f)).call.apply(M,[this].concat(J))),x._sigPad=null,x._excludeOurProps=function(){var P=x.props,A=(P.canvasProps,P.clearOnResize,u(P,["canvasProps","clearOnResize"]));return A},x.getCanvas=function(){return x._canvas},x.getTrimmedCanvas=function(){var P=document.createElement("canvas");return P.width=x._canvas.width,P.height=x._canvas.height,P.getContext("2d").drawImage(x._canvas,0,0),(0,G.default)(P)},x.getSignaturePad=function(){return x._sigPad},x._checkClearOnResize=function(){x.props.clearOnResize&&x._resizeCanvas()},x._resizeCanvas=function(){var P=x.props.canvasProps||{},A=P.width,K=P.height;if(!A||!K){var N=x._canvas,Y=Math.max(window.devicePixelRatio||1,1);A||(N.width=N.offsetWidth*Y),K||(N.height=N.offsetHeight*Y),N.getContext("2d").scale(Y,Y),x.clear()}},x.on=function(){return window.addEventListener("resize",x._checkClearOnResize),x._sigPad.on()},x.off=function(){return window.removeEventListener("resize",x._checkClearOnResize),x._sigPad.off()},x.clear=function(){return x._sigPad.clear()},x.isEmpty=function(){return x._sigPad.isEmpty()},x.fromDataURL=function(P,A){return x._sigPad.fromDataURL(P,A)},x.toDataURL=function(P,A){return x._sigPad.toDataURL(P,A)},x.fromData=function(P){return x._sigPad.fromData(P)},x.toData=function(){return x._sigPad.toData()},X=z,v(x,X)}return S(f,_),C(f,[{key:"componentDidMount",value:function(){this._sigPad=new H.default(this._canvas,this._excludeOurProps()),this._resizeCanvas(),this.on()}},{key:"componentWillUnmount",value:function(){this.off()}},{key:"componentDidUpdate",value:function(){Object.assign(this._sigPad,this._excludeOurProps())}},{key:"render",value:function(){var M=this,z=this.props.canvasProps;return k.default.createElement("canvas",D({ref:function(x){M._canvas=x}},z))}}]),f}(R.Component);$.propTypes={velocityFilterWeight:g.default.number,minWidth:g.default.number,maxWidth:g.default.number,minDistance:g.default.number,dotSize:g.default.oneOfType([g.default.number,g.default.func]),penColor:g.default.string,throttle:g.default.number,onEnd:g.default.func,onBegin:g.default.func,canvasProps:g.default.object,clearOnResize:g.default.bool},$.defaultProps={clearOnResize:!0},p.default=$},function(n,p){n.exports=o},function(n,p){n.exports=i},function(n,p){n.exports=s},function(n,p){n.exports=h}])})})(ve);var et=ve.exports;const tt=Ce(et),oe={Stable:"black",Fair:"#AF8CFA",Mild:"#FFC999",Severe:"#DE5031"},se=Ee().millisecond(0).second(0),ue=t=>{const r=t.split("-");return`${r[2]}.${r[1]}.${r[0]}`},nt=["medication_name","dose","pill_per_day","recommendation"],it=["test_name","test_result","unit"],V={};function Et({medicalInfo:t,appointment:r,icd:o,note:i}){T.useState([]);const s=Object.values(t)[0],{get:h,data:n,post:p,setData:c,errors:d,setError:u,clearErrors:m,reset:v,processing:S}=Se({patient_id:s.patient.id,appointment_id:r.id,main_complaint:"",objective_note:"",test_name:"",test_result:"",unit:"",date:se.format("YYYY-MM-DD"),medication_name:"",dose:"",dose_addon:"",pill_per_day:"",pill_type:"",recommendation:"",diagnoses:[],prescriptions:[],files:[],tests:{},signature:null}),[D,C]=T.useState("J00"),[y,g]=T.useState(!1),[R,k]=T.useState([]),[E,H]=T.useState(!1),{isOpen:ne,onOpen:G,onClose:$}=Ye(),_=T.useRef(),f=Object.keys(n.tests),M=()=>{c("signature",_.current.toDataURL("image/png"))},z=()=>{_.current.clear(),c("signature",null)},{auth:x}=De().props;T.useEffect(()=>{R.length>0&&c("files",R.map(a=>a.originFileObj))},[R]),T.useMemo(()=>{c(y?{...n,dose_addon:"mg oral",pill_type:"tablet"}:{...n,prescriptions:[],medication_name:"",dose:"",dose_addon:"",pill_per_day:"",pill_type:"",recommendation:""})},[y]),T.useMemo(()=>{o.forEach(a=>{V[a.icd_code]=a})},[o]),T.useMemo(()=>{i.length>0&&(H(!0),c({...n,main_complaint:i[0].main_complaint,objective_note:i[0].objective_note,tests:i[0].test_results}))},[i]);const X=()=>{c("signature",null),$()},Z=()=>{const a=D,j={date:se.format("YYYY-MM-DD"),icd_code:a};n.diagnoses.find(je=>je.icd_code===a)||c("diagnoses",[...n.diagnoses,j])},J=a=>{const j=n.diagnoses.find(W=>W.icd_code===a);n.diagnoses.splice(n.diagnoses.indexOf(j),1),c("diagnoses",n.diagnoses)};let B=!1;const P=a=>!!n[a],A=()=>{if(nt.forEach(W=>{P(W)||(u(W,"This field is required"),B=!0)}),B)return;const a={patient_id:n.patient_id,doctor_id:x.doctor.id,date:se.format("YYYY-MM-DD"),medication_name:n.medication_name,dose:`${n.dose} ${n.dose_addon}`,pill_per_day:`${n.pill_per_day} ${n.pill_type}`,recommendation:n.recommendation};n.prescriptions.find(W=>W.medication_name===n.medication_name)?u("medication_name","This medication already exists"):c({...n,prescriptions:[...n.prescriptions,a],medication_name:"",dose:"",pill_per_day:"",recommendation:""})},K=a=>{const j=n.prescriptions.find(W=>W.medication_name===a);n.prescriptions.splice(n.prescriptions.indexOf(j),1),c("prescriptions",n.prescriptions)},N=()=>{if(it.forEach(j=>{P(j)||(u(j,"This field is required"),B=!0)}),B)return;f.find(j=>j===n.test_name)?u("test_name","This test already exists"):(n.tests[n.test_name]=`${n.test_result} ${n.unit}`,c({...n,tests:n.tests,test_name:"",test_result:"",unit:""}))},Y=a=>{delete n.tests[a],c("tests",n.tests)},_e=a=>{if(a.preventDefault(),_.current.isEmpty()){u("signature","Please sign the document");return}p(route("appointment.note",{appointment:r.id}))};return e.jsx(ke,{state:"none",children:e.jsxs(l,{w:"87vw",h:"99vh",fontSize:"14px",children:[e.jsxs(l,{w:"100%",p:"8px",ml:"16px",children:[e.jsxs(b,{align:"center",justify:"space-between",pt:"8px",w:"100%",children:[e.jsxs(l,{fontSize:"24px",fontWeight:"bold",children:["Office visit / ",r.id]}),E?"":e.jsx(l,{children:e.jsx(F,{type:"submit",bg:"blue.400",color:"white",size:"sm",p:"2px 16px",onClick:G,_hover:{background:"blue.500"},children:"Sign & Save"})})]}),e.jsxs(b,{children:[e.jsxs(l,{fontSize:"12px",children:["Start time: ",`${r.start_time.split(":")[0]}:${r.start_time.split(":")[1]}`]}),e.jsxs(l,{fontSize:"12px",ml:"16px",children:["Arrive time: ",`${r.start_time.split(":")[0]}:${r.start_time.split(":")[1]}`]})]})]}),e.jsxs(Q,{w:"100%",h:"87vh",pl:"8px",children:[e.jsxs(l,{w:"40%",h:"100%",p:"16px",bg:"white",borderRadius:"xl",alignSelf:"flex-start",children:[e.jsxs(b,{w:"100%",pb:"8px",align:"center",justify:"space-between",borderBottom:"1px solid #ECEDED",fontSize:"16px",fontWeight:"bold",children:[e.jsx(l,{children:s.patient.name}),e.jsxs(l,{children:[s.patient.age," years old"]})]}),e.jsxs(l,{w:"100%",h:"100%",overflowY:"scroll",children:[e.jsxs(l,{w:"100%",borderBottom:"1px solid #ECEDED",py:"8px",children:[e.jsx(l,{fontSize:"16px",fontWeight:"bold",mb:"8px",children:"Allergies"}),e.jsxs(b,{w:"100%",mb:"8px",align:"center",justify:"space-between",fontSize:"12px",fontWeight:"bold",children:[e.jsxs(l,{w:"30%",h:"10vh",children:[e.jsx(l,{color:"gray",children:"Drug"}),s.allergies.Drug?s.allergies.Drug.map((a,j)=>e.jsxs(b,{w:"100%",justify:"space-between",align:"center",overflowY:"scroll",children:[e.jsx(l,{color:oe[a.severity],fontWeight:"bold",children:a.severity}),e.jsx(l,{children:a.name})]},`drug-${j}`)):e.jsx(l,{fontWeight:"bold",children:"No known allergies"})]}),e.jsxs(l,{w:"30%",h:"10vh",children:[e.jsx(l,{color:"gray",children:"Food"}),s.allergies.Food?s.allergies.Food.map((a,j)=>e.jsxs(b,{w:"100%",justify:"space-between",align:"center",overflowY:"scroll",children:[e.jsx(l,{color:oe[a.severity],fontWeight:"bold",children:a.severity}),e.jsx(l,{children:a.name})]},`drug-${j}`)):e.jsx(l,{fontWeight:"bold",children:"No known allergies"})]}),e.jsxs(l,{w:"30%",h:"10vh",children:[e.jsx(l,{color:"gray",children:"Environmental"}),s.allergies.Environmental?s.allergies.Environmental.map((a,j)=>e.jsxs(b,{w:"100%",justify:"space-between",align:"center",overflowY:"scroll",children:[e.jsx(l,{color:oe[a.severity],fontWeight:"bold",children:a.severity}),e.jsx(l,{children:a.name})]},`drug-${j}`)):e.jsx(l,{fontWeight:"bold",children:"No known allergies"})]})]})]}),e.jsxs(l,{w:"100%",borderBottom:"1px solid #ECEDED",py:"8px",children:[e.jsx(l,{fontSize:"16px",fontWeight:"bold",mb:"8px",children:"Diagnoses"}),e.jsx(l,{w:"100%",h:"23vh",overflowY:"scroll",children:e.jsx(I,{w:"100%",spacing:2,children:s.diagnoses.length>0?s.diagnoses.map((a,j)=>e.jsxs(b,{align:"center",justify:"space-between",borderBottom:"1px solid #ECEDED",px:"2px",pb:"4px",mb:"4px",w:"100%",h:"5vh",children:[e.jsx(b,{align:"center",w:"12%",h:"100%",children:e.jsx(l,{bg:V[a.icd_code].color,borderRadius:"md",w:"fit-content",p:"1px 5px",fontSize:"10px",color:"white",children:a.icd_code})}),e.jsx(b,{align:"center",fontSize:"11px",w:"65%",h:"100%",children:V[a.icd_code].icd_name}),e.jsx(b,{align:"center",justify:"center",w:"20%",h:"100%",fontSize:"12px",children:ue(a.date)})]},`diagnosis-${j}`)):e.jsx(l,{fontWeight:"bold",children:"No Available Diagnoses"})})})]}),e.jsxs(l,{w:"100%",mt:"8px",py:"8px",children:[e.jsx(l,{fontSize:"16px",fontWeight:"bold",mb:"8px",children:"Prescriptions"}),e.jsx(l,{w:"100%",h:"23vh",overflowY:"scroll",children:e.jsx(I,{w:"100%",spacing:2,children:s.prescriptions.length>0?s.prescriptions.map((a,j)=>{const W=a.detail;return e.jsxs(b,{align:"center",justify:"space-between",borderBottom:"1px solid #ECEDED",px:"2px",pb:"4px",mb:"4px",w:"100%",h:"5vh",children:[e.jsx(b,{align:"center",w:"30%",fontWeight:"bold",fontSize:"12px",h:"100%",children:W.medication_name}),e.jsx(b,{align:"center",fontSize:"11px",w:"50%",h:"100%",children:`${W.dose}, ${W.pill_per_day}`}),e.jsx(b,{align:"center",justify:"center",w:"20%",h:"100%",fontSize:"12px",children:ue(W.date)})]},`prescription-${j}`)}):e.jsx(l,{fontWeight:"bold",children:"No Available Prescriptions"})})})]}),e.jsxs(l,{w:"100%",mt:"8px",py:"8px",children:[e.jsx(l,{fontSize:"16px",fontWeight:"bold",mb:"8px",children:"Test Results"}),e.jsx(l,{w:"100%",h:"23vh",overflowY:"scroll",children:e.jsx(I,{w:"100%",spacing:2,children:e.jsx(Te,{data:s,width:"90%"})})})]})]})]}),e.jsxs(I,{w:"60%",h:"100%",pr:"8px",overflowY:"scroll",children:[e.jsx(l,{w:"100%",p:"16px",bg:"white",borderRadius:"xl",children:e.jsxs(L,{isInvalid:d.main_complaint,children:[e.jsx(l,{fontWeight:"bold",mb:"8px",children:"Main complaint"}),e.jsx(ee,{disabled:E,variant:"filled",borderRadius:"md",placeholder:"Main complaint",size:"sm",resize:E?"none":"vertical",value:n.main_complaint,onChange:a=>{c("main_complaint",a.target.value),m("main_complaint")}}),e.jsx(O,{children:d.main_complaint})]})}),e.jsx(l,{w:"100%",p:"16px",bg:"white",borderRadius:"xl",children:e.jsxs(L,{isInvalid:d.objective_note,children:[e.jsx(l,{fontWeight:"bold",mb:"8px",children:"Objective note"}),e.jsx(ee,{disabled:E,variant:"filled",borderRadius:"md",placeholder:"Objective note",h:"160px",fontSize:"14px",resize:E?"none":"vertical",value:n.objective_note,onChange:a=>{c("objective_note",a.target.value),m("objective_note")}}),e.jsx(O,{children:d.objective_note})]})}),e.jsxs(l,{w:"100%",p:"16px",bg:"white",borderRadius:"xl",children:[e.jsx(l,{fontWeight:"bold",mb:"8px",children:"Test results"}),e.jsx(I,{w:"100%",pb:"8px",spacing:1,borderBottom:"1px solid #ECEDED",children:E?e.jsxs(e.Fragment,{children:[e.jsxs(b,{w:"100%",h:"100%",p:"8px",align:"center",children:[e.jsx(l,{w:"30%",p:"8px",borderBottom:"1px solid #ECEDED",children:"Test name"}),e.jsx(l,{w:"70%",p:"8px",borderBottom:"1px solid #ECEDED",children:"Test results"})]}),f.length>0?f.map((a,j)=>e.jsxs(b,{w:"100%",h:"100%",p:"8px",align:"center",children:[e.jsx(l,{w:"30%",p:"8px",children:a}),e.jsx(l,{w:"70%",p:"8px",children:n.tests[a]})]})):""]}):f.length>0?f.map((a,j)=>e.jsxs(b,{align:"center",py:"8px",children:[e.jsx(l,{w:"5%",style:{cursor:"pointer"},onClick:()=>Y(a),children:e.jsx(ie,{})}),e.jsxs(Q,{w:"95%",spacing:3,ml:"16px",children:[e.jsx(l,{w:"30%",children:a}),e.jsx(l,{w:"70%",fontSize:"12px",children:n.tests[a]})]})]},j)):""}),E?e.jsx(e.Fragment,{}):e.jsxs(b,{w:"100%",mt:"8px",justify:"space-between",align:"center",children:[e.jsxs(L,{isInvalid:d.test_name,w:"45%",children:[e.jsx(l,{fontSize:"12px",color:"gray",fontWeight:"bold",mb:"6px",children:"Test Name"}),e.jsx(q,{size:"sm",fontSize:"11px",variant:"filled",borderRadius:"md",placeholder:"Test name",value:n.test_name,onChange:a=>{c("test_name",a.target.value),m("test_name")}}),e.jsx(O,{children:d.test_name})]}),e.jsxs(L,{isInvalid:d.test_result,w:"35%",ml:"18px",children:[e.jsx(l,{fontSize:"12px",color:"gray",fontWeight:"bold",mb:"6px",children:"Result"}),e.jsx(q,{size:"sm",fontSize:"11px",variant:"filled",borderRadius:"md",placeholder:"Result",value:n.test_result,onChange:a=>{c("test_result",a.target.value),m("test_result")}}),e.jsx(O,{children:d.test_result})]}),e.jsxs(L,{isInvalid:d.unit,w:"10%",ml:"8px",children:[e.jsx(l,{fontSize:"12px",color:"gray",fontWeight:"bold",mb:"6px",children:"Unit"}),e.jsx(q,{size:"sm",fontSize:"11px",variant:"filled",borderRadius:"md",placeholder:"Unit",value:n.unit,onChange:a=>{c("unit",a.target.value),m("unit")}}),e.jsx(O,{children:d.unit})]}),e.jsx(F,{alignSelf:"flex-end",colorScheme:"blue",ml:"8px",size:"sm",onClick:N,children:"Add"})]})]}),E?e.jsx(e.Fragment,{}):e.jsxs(e.Fragment,{children:[e.jsxs(l,{w:"100%",p:"16px",bg:"white",borderRadius:"xl",children:[e.jsx(l,{fontWeight:"bold",mb:"8px",children:"Diagnosis"}),e.jsxs(l,{w:"100%",children:[e.jsx(I,{w:"100%",pb:"8px",spacing:1,borderBottom:"1px solid #ECEDED",children:n.diagnoses.length>0?n.diagnoses.map((a,j)=>e.jsxs(b,{align:"center",py:"8px",children:[e.jsx(l,{w:"5%",style:{cursor:"pointer"},onClick:()=>J(a.icd_code),children:e.jsx(ie,{})}),e.jsxs(Q,{w:"95%",spacing:3,ml:"16px",children:[e.jsx(l,{w:"12%",children:e.jsx(l,{bg:V[a.icd_code].color,borderRadius:"md",w:"fit-content",p:"1px 8px",fontSize:"10px",color:"white",children:a.icd_code})}),e.jsx(l,{w:"88%",fontSize:"12px",children:V[a.icd_code].icd_name})]})]},a.icd_code)):""}),e.jsxs(I,{w:"100%",spacing:2,pt:"8px",children:[e.jsx(l,{fontSize:"12px",color:"gray",fontWeight:"bold",children:"Code and name"}),e.jsxs(b,{w:"100%",children:[e.jsx(he,{style:{paddingBottom:"8px"},variant:"filled",borderRadius:"md",fontSize:"10px",pb:"8px",w:"93%",size:"sm",value:D,onChange:a=>{C(a.target.value)},children:o.map(a=>e.jsxs("option",{value:a.icd_code,children:[a.icd_code,": ",a.icd_name]},a.icd_code))}),e.jsx(F,{colorScheme:"blue",ml:"16px",size:"sm",onClick:Z,children:"Add"})]})]})]})]}),e.jsxs(l,{w:"100%",p:"16px",bg:"white",borderRadius:"xl",children:[e.jsxs(b,{justify:"space-between",align:"center",w:"100%",children:[e.jsx(l,{fontWeight:"bold",mb:"8px",children:"Prescription"}),e.jsxs(b,{children:[e.jsx(l,{fontSize:"12px",fontWeight:"bold",me:"4px",children:"Make a prescription?"}),e.jsx(Be,{onChange:()=>g(!y)})]})]}),e.jsx(I,{w:"100%",pb:"8px",spacing:1,borderBottom:"1px solid #ECEDED",children:n.prescriptions.length>0?n.prescriptions.map((a,j)=>e.jsxs(b,{align:"center",py:"8px",children:[e.jsx(l,{w:"5%",style:{cursor:"pointer"},onClick:()=>K(a.medication_name),children:e.jsx(ie,{})}),e.jsxs(Q,{w:"95%",spacing:3,ml:"16px",children:[e.jsx(l,{w:"30%",fontSize:"12px",children:a.medication_name}),e.jsx(l,{w:"70%",fontSize:"12px",children:`${a.dose}, ${a.pill_per_day} per day`})]})]},j)):""}),e.jsxs(b,{w:"100%",borderBottom:"1px solid #ECEDED",py:"8px",align:"center",children:[e.jsxs(L,{isInvalid:d.medication_name,w:"40%",children:[e.jsx(l,{fontSize:"12px",color:"gray",fontWeight:"bold",mb:"6px",children:"Medication name"}),e.jsx(q,{size:"sm",fontSize:"11px",disabled:!y,variant:"filled",borderRadius:"md",placeholder:"Medication name",value:n.medication_name,onChange:a=>{c("medication_name",a.target.value),m("medication_name")}}),e.jsx(O,{children:d.medication_name})]}),e.jsx(l,{w:"30%",ml:"5%",children:e.jsxs(L,{isInvalid:d.dose,children:[e.jsx(l,{fontSize:"12px",color:"gray",fontWeight:"bold",mb:"6px",children:"Dose"}),e.jsxs(Oe,{size:"sm",children:[e.jsx(q,{type:"number",size:"sm",fontSize:"11px",disabled:!y,variant:"filled",borderRadius:"md",placeholder:"Dose",value:n.dose,onChange:a=>{c("dose",a.target.value),m("dose")}}),e.jsx(de,{fontSize:"11px",borderRightRadius:"md",style:y?{opacity:1}:{opacity:.4},children:"mg"})]}),e.jsx(O,{children:d.dose})]})}),e.jsxs(l,{w:"30%",ml:"5%",children:[e.jsx(l,{fontSize:"12px",color:"gray",fontWeight:"bold",mb:"6px",children:"Pills per day"}),e.jsxs(b,{align:"center",w:"100%",children:[e.jsxs(L,{isInvalid:d.pill_per_day,w:"30%",mr:"2px",children:[e.jsx(q,{type:"number",size:"sm",fontSize:"11px",w:"100%",disabled:!y,variant:"filled",borderRadius:"md",placeholder:"Pills",value:n.pill_per_day,onChange:a=>{c("pill_per_day",a.target.value),m("pill_per_day")}}),e.jsx(O,{w:"20vw",fontSize:"10px",children:d.pill_per_day})]}),e.jsxs(he,{style:{paddingBottom:"8px"},variant:"filled",borderRadius:"md",fontSize:"10px",disabled:!y,w:"70%",size:"sm",value:n.pill_type,onChange:a=>{c("pill_type",a.target.value)},children:[e.jsx("option",{value:"tablet",children:"Tablet"}),e.jsx("option",{value:"capsule",children:"Capsule"})]})]})]})]}),e.jsx(l,{w:"100%",pt:"8px",children:e.jsxs(L,{isInvalid:d.recommendation,children:[e.jsx(l,{fontSize:"12px",color:"gray",fontWeight:"bold",mb:"6px",children:"Recommendation"}),e.jsx(ee,{variant:"filled",borderRadius:"md",disabled:!y,placeholder:"Recommendation",size:"sm",resize:E?"none":"vertical",value:n.recommendation,onChange:a=>{c("recommendation",a.target.value),m("recommendation")}}),e.jsx(O,{children:d.recommendation})]})}),e.jsx(b,{w:"100%",pt:"8px",justify:"flex-end",align:"center",children:e.jsx(F,{isDisabled:!y,colorScheme:"blue",ml:"2px",size:"sm",onClick:A,children:"Add"})})]})]}),E?"":e.jsxs(l,{w:"100%",p:"16px",bg:"white",children:[e.jsx(l,{fontWeight:"bold",mb:"8px",children:"Additional documentation"}),e.jsx(Fe,{accept:"image/*,.pdf",listType:"picture",customRequest:({onSuccess:a})=>setTimeout(()=>{a("ok",null)},0),onChange:({file:a,fileList:j})=>{k(j)},children:e.jsx(Ie,{icon:e.jsx(Xe,{}),children:"Upload"})})]}),E?e.jsxs(l,{bg:"white",borderRadius:"md",w:"100%",p:"16px",children:[e.jsx(l,{fontWeight:"bold",mb:"8px",children:"Signature"}),e.jsx(b,{w:"100%",justify:"center",children:e.jsx("img",{src:i[0].signature,alt:"signature",width:"50%"})})]}):e.jsx(F,{onClick:G,type:"submit",bg:"blue.400",color:"white",w:"100%",py:"8px",_hover:{background:"blue.500"},children:"Sign & Save"})]})]}),e.jsxs(Pe,{isOpen:ne,size:"lg",onClose:X,isCentered:!0,children:[e.jsx(Me,{}),e.jsxs(Ne,{children:[e.jsx($e,{children:"Please Sign"}),e.jsx(Re,{}),e.jsx(We,{children:e.jsxs(L,{w:"100%",isInvalid:d.signature,children:[e.jsx(tt,{ref:_,canvasProps:{className:"signature"},onEnd:M,onBegin:()=>m("signature"),dotSize:.1}),e.jsx(O,{children:d.signature})]})}),e.jsx(Ue,{children:e.jsxs(b,{justify:"space-between",align:"center",w:"100%",children:[e.jsx(F,{onClick:z,colorScheme:"gray",py:"8px",children:"Clear"}),e.jsxs(l,{children:[e.jsx(F,{onClick:_e,isLoading:S,type:"submit",bg:"blue.400",color:"white",py:"8px",_hover:{background:"blue.500"},children:"Save"}),e.jsx(F,{variant:"ghost",colorScheme:"red",ml:3,onClick:$,children:"Close"})]})]})})]})]})]})})}export{Et as default};
