import{q as S,r as l,W as y,j as e}from"./app-5BC9NJFv.js";import"./lodash-7rTLpjrE.js";import{D}from"./DoctorLayout-DQ_Fl3WJ.js";import{U as E}from"./index-CPslO9z8.js";import{B as t,F as s,a as m}from"./chunk-KRPLQIP4-Db1aT9RV.js";import{S as u}from"./chunk-ZHMYA64R-C7Nubghf.js";import{A as W}from"./iconBase-CFvhxgkG.js";import"./Logo-DSY_D8m-.js";import"./index-CWbWL0FN.js";import"./defineProperty-DmAPQKcv.js";const F=(n,r)=>{const i=new FileReader;i.addEventListener("load",()=>r(i.result)),i.readAsDataURL(n)};function H(){const{auth:n}=S().props,{doctor:r}=n,[i,c]=l.useState(!1),[R,d]=l.useState(!1),[a,h]=l.useState(""),{data:U,setData:j,patch:A,post:g,put:C,reset:f,processing:x}=y({avatar:{}}),p=()=>{f("avatar"),h("")},b=o=>{if(o.file.status==="uploading"){d(!0);return}o.file.status==="done"&&(j("avatar",o.file.originFileObj),F(o.file.originFileObj,v=>{d(!1),h(v)}))},w=()=>{g(route("doctor.update.avatar",{doctor:r.id}),{onSuccess:()=>p()})};return e.jsx(D,{state:"none",children:e.jsx(t,{w:"100%",h:"100vh",children:e.jsx(t,{w:"100%",h:"100%",pt:"10px",bg:"#EDEEF3",children:e.jsxs(t,{w:"60%",h:"87%",p:"20px 36px 60px",mt:"7vh",mx:"auto",borderRadius:"25px",border:"gray.200",bg:"white",children:[e.jsx(s,{justify:"space-between",align:"center",fontSize:"34px",children:e.jsx(t,{fontWeight:"bold",children:"Your profile"})}),e.jsxs(u,{w:"100%",h:"60vh",mt:"50px",spacing:2,children:[e.jsx(s,{w:"100%",justify:"center",children:e.jsxs(t,{position:"relative",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[e.jsx(W,{name:r.name,src:a||r.avatar,bg:"#1366DE",color:"white",size:"2xl"}),i?e.jsx(s,{justify:"center",align:"center",position:"absolute",top:0,left:"50%",right:0,bottom:0,transform:"translateX(-50%)",w:"100%",borderRadius:"50%",bg:"linear-gradient(0deg, rgba(2,0,36,1) 0%, rgba(255,255,255,0.7591841668307948) 88%)",children:e.jsx(t,{pl:"9px",children:e.jsx(E,{accept:"image/*",listType:"picture-circle",showUploadList:!1,maxCount:1,customRequest:({onSuccess:o})=>setTimeout(()=>{o("ok",null)},0),onChange:b,children:e.jsxs(s,{w:"100%",direction:"column",align:"center",fontWeight:"bold",color:"white",children:[e.jsx(t,{mt:"8px",children:"Upload"}),e.jsx(t,{mt:"4px",children:"Avatar"})]})})})}):""]})}),e.jsx(s,{w:"100%",justify:"center",children:e.jsx(t,{fontWeight:"bold",fontSize:"20px",children:r.name})}),e.jsx(t,{mt:"70px",mx:"7%",fontWeight:"bold",children:"General information"}),e.jsxs(u,{w:"90%",p:"16px",mx:"7%",fontSize:"16px",spacing:2,border:"1px solid gray",borderRadius:"lg",children:[e.jsxs(s,{w:"100%",children:[e.jsx(t,{fontWeight:"bold",w:"20%",children:"Email:"}),e.jsx(t,{w:"80%",children:r.email})]}),e.jsxs(s,{w:"100%",children:[e.jsx(t,{fontWeight:"bold",w:"20%",children:"Phone:"}),e.jsx(t,{w:"80%",children:r.phone})]}),e.jsxs(s,{w:"100%",children:[e.jsx(t,{fontWeight:"bold",w:"20%",children:"Age:"}),e.jsx(t,{w:"80%",children:r.age})]})]}),a?e.jsxs(s,{w:"90%",mx:"10%",mt:"16px",justify:"flex-end",children:[e.jsx(m,{onClick:p,colorScheme:"red",color:"white",isDisabled:x,children:"Cancel"}),e.jsx(m,{onClick:w,colorScheme:"blue",color:"white",isDisabled:x,ml:"8px",children:"Save"})]}):e.jsx(e.Fragment,{})]})]})})})})}export{H as default};
