import{r as i,W as z,j as e,e as R}from"./app-DmHSQUrN.js";import{C as B,a as Y}from"./chunk-6RTX462E-XFuRjhwY.js";import{d as l}from"./dayjs.min-d0VlGjK2.js";import{r as f}from"./range-PHbfMuXe.js";import"./lodash-kzw5pq0-.js";import{F as n,B as r,C as T,T as c,S as W}from"./chunk-KRPLQIP4-BozMeS5C.js";import{G as L}from"./chunk-JARCRF6W-CGzvDlTs.js";const I=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],s=l();let h,o,u,m,M,j,D,b,y;function Q({width:E,height:F,schedule:x,navigation:v}){const[a,g]=i.useState(l()),[d,C]=i.useState(s),[p,$]=i.useState({}),[w,k]=i.useState([]),{get:S,processing:G}=z();i.useMemo(()=>{h=a.year(),o=a.month(),u=a.daysInMonth(),m=l(`${h}-${o+1}-1`),M=m.day(),j=l(`${h}-${o+1}-${u}`),D=j.day(),b=m.format("YYYY-MM-DD"),y=j.format("YYYY-MM-DD")},[a]),i.useEffect(()=>{typeof x<"u"&&$(x)},[x]),i.useEffect(()=>{k(p[d.format("YYYY-MM-DD")])},[p,d]);const O=()=>{g(a.subtract(1,"month")),S(route("doctor.dashboard.schedule",{start_date:b,end_date:y}),{preserveState:!0})},_=()=>{g(a.add(1,"month")),S(route("doctor.dashboard.schedule",{start_date:b,end_date:y}),{preserveState:!0})};return e.jsxs(n,{border:"2px solid #F0F0F1",align:"center",justify:"space-between",borderRadius:"xl",bg:"white",w:E,h:F,children:[e.jsxs(r,{w:"50%",h:"100%",p:"20px 16px 0 16px",borderLeftRadius:"xl",bg:"transparent",children:[e.jsxs(n,{color:"black",fontWeight:"bold",mb:"24px",justify:"space-between",fontSize:"12px",children:[e.jsx(r,{children:"Schedule"}),e.jsxs(n,{align:"center",justify:"space-evenly",w:"40%",children:[e.jsx(r,{style:{cursor:"pointer"},onClick:O,children:e.jsx(B,{})}),e.jsx(r,{fontWeight:"bold",mr:"4px",children:a.format("MMMM YYYY")}),e.jsx(r,{style:{cursor:"pointer"},onClick:_,children:e.jsx(Y,{})})]})]}),e.jsxs(L,{templateColumns:"repeat(7, 1fr)",gap:0,textAlign:"center",w:"100%",h:"65%",mb:"14px",bg:"transparent",children:[I.map(t=>e.jsx(r,{fontSize:"11px",children:t},t)),f(M).map(t=>e.jsx(r,{fontSize:"11px"},t)),f(u).map(t=>e.jsx(n,{justify:"center",children:e.jsx(T,{style:t+1<s.date()&&s.month()==o||s.month()>o?{opacity:.4}:{cursor:"pointer"},_hover:t+1<s.date()&&s.month()==o||s.month()>o?{}:{backgroundColor:"blue.100",color:"white"},size:"27px",bg:d.date()===t+1&&d.month()==o?"blue.100":"transparent",color:d.date()===t+1&&d.month()==o?"white":"black",onClick:()=>{t+1<s.date()&&s.month()==o||C(l(l(`${h}-${o+1}-${t+1}`)))},children:e.jsx(n,{direction:"column",align:"center",fontSize:"11px",children:t+1})})},t)),f(6-D).map(t=>e.jsx(r,{fontSize:"11px"},t))]})]}),e.jsxs(r,{w:"50%",h:"100%",p:"20px 16px 0 16px",borderRightRadius:"xl",bg:"white",children:[e.jsxs(n,{align:"flex-start",justify:"space-between",children:[e.jsx(c,{color:"black",fontWeight:"bold",mb:"24px",children:"Timeline"}),v?e.jsx(W,{border:"1px solid #BEE3F8",borderRadius:"sm",style:{cursor:"pointer"},_hover:{backgroundColor:"#BEE3F8",color:"white"},size:"16px",mt:"3px",children:e.jsx(R,{href:route("doctor.schedule"),children:e.jsx(Y,{})})}):e.jsx(e.Fragment,{})]}),e.jsx(r,{w:"100%",h:"80%",overflow:"scroll",children:typeof p[d.format("YYYY-MM-DD")]<"u"&&typeof w<"u"?w.map(t=>e.jsxs(n,{border:"1px solid #BEE3F8",borderRadius:"xl",w:"100%",h:"auto",mb:"6px",fontSize:"10px",children:[e.jsxs(n,{bg:"#BEE3F8",borderLeftRadius:"xl",w:"45px",py:"3px",color:"#1366DE",direction:"column",align:"center",justify:"center",children:[e.jsx(c,{children:`${t.start_time.split(":")[0]}:${t.start_time.split(":")[1]}`}),e.jsx(c,{children:"-"}),e.jsx(c,{children:`${t.end_time.split(":")[0]}:${t.end_time.split(":")[1]}`})]}),e.jsxs(r,{overflow:"hidden",p:"13px 15px",w:"97%",children:[e.jsx(c,{color:"black",fontWeight:"bold",children:t.task}),e.jsx(r,{fontSize:"9px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",children:t.location})]})]},t.id)):e.jsx(r,{w:"100%",h:"100%",p:"16px",children:"No schedule"})})]})]})}export{Q as D};
