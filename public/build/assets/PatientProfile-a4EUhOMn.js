import{q as C,r as m,W as F,j as e}from"./app-B-st9BtI.js";import{P as E,F as D}from"./PatientLayout-DIqeC2s8.js";import"./lodash-CvmcnPJT.js";import{u as R}from"./index-BrEBPJ0Z.js";import{U as w}from"./index-C977uZpW.js";import{B as t,F as r,a as d}from"./chunk-KRPLQIP4-BlAVN8HP.js";import{S as x}from"./chunk-ZHMYA64R-DtvKkc4C.js";import{A as b}from"./iconBase-ChLQLo6q.js";import"./Logo-xk-lhgy1.js";import"./chunk-VDHTZURG-D02qdTm6.js";import"./chunk-4FCEGNGT-Z6ZvjLQp.js";import"./defineProperty-DmAPQKcv.js";import"./chunk-6CVSDS6C-BmeBEkKM.js";import"./chunk-VGESXGVT-CeUiVvbi.js";import"./chunk-RAWN7VJ3-Dy4GWyOy.js";import"./index-DkwGp1KY.js";import"./index-DdrsuNi1.js";import"./dayjs.min-BznShDkh.js";const z=(h,i)=>{const l=new FileReader;l.addEventListener("load",()=>i(l.result)),l.readAsDataURL(h)};function $(){const{auth:h}=C().props,{patient:i}=h,[l,a]=m.useState(!1),[A,j]=m.useState(!1),[o,u]=m.useState(""),{data:L,setData:v,patch:U,post:S,put:k,reset:y,processing:c}=F({avatar:{}}),n=R({query:"(max-width: 844px)"}),p=()=>{y("avatar"),u("")},f=s=>{if(s.file.status==="uploading"){j(!0);return}s.file.status==="done"&&(v("avatar",s.file.originFileObj),z(s.file.originFileObj,W=>{j(!1),u(W)}))},g=()=>{S(route("patient.update.avatar",{patient:i.id}),{onSuccess:()=>p()})};return e.jsx(E,{state:"profile",children:e.jsxs(t,{mt:"80px",children:[e.jsx(t,{fontSize:"32px",bg:n?"#E8F0FC":"white",color:"#1366DE",w:n?"100%":"fit-content",py:n?"20px":"",mx:"auto",my:n?"":"36px",textAlign:n?"center":"",children:"Profile"}),n?e.jsx(t,{w:"100%",h:"auto",children:e.jsx(t,{w:"100%",h:"100%",p:"20px 36px 60px",borderTopRadius:"25px",border:"gray.200",mx:"auto",bg:"white",children:e.jsxs(x,{w:"100%",h:"60vh",mt:"20px",spacing:2,children:[e.jsx(r,{w:"100%",justify:"center",children:e.jsxs(t,{position:"relative",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:[e.jsx(b,{name:i.name,src:o||i.avatar,bg:"#1366DE",color:"white",size:"2xl"}),e.jsx(t,{position:"absolute",right:0,bottom:0,children:e.jsx(t,{children:e.jsx(w,{accept:"image/*",showUploadList:!1,maxCount:1,customRequest:({onSuccess:s})=>setTimeout(()=>{s("ok",null)},0),onChange:f,children:e.jsx(D,{})})})})]})}),e.jsx(r,{w:"100%",justify:"center",children:e.jsx(t,{fontWeight:"bold",fontSize:"20px",children:i.name})}),e.jsx(t,{mt:"56px",mx:"auto",fontWeight:"bold",children:"General Information"}),e.jsxs(x,{w:"100%",p:"20px",mx:"auto",fontSize:"16px",spacing:2,border:"1px solid gray",borderRadius:"lg",children:[e.jsxs(r,{w:"100%",children:[e.jsx(t,{fontWeight:"bold",w:"40%",children:"Email:"}),e.jsx(t,{w:"60%",children:i.email})]}),e.jsxs(r,{w:"100%",children:[e.jsx(t,{fontWeight:"bold",w:"40%",children:"Phone:"}),e.jsx(t,{w:"60%",children:i.phone})]}),e.jsxs(r,{w:"100%",children:[e.jsx(t,{fontWeight:"bold",w:"40%",children:"Date of birth:"}),e.jsx(t,{w:"60%",children:i.date_of_birth})]}),e.jsxs(r,{w:"100%",children:[e.jsx(t,{fontWeight:"bold",w:"40%",children:"Age:"}),e.jsx(t,{w:"60%",children:i.age})]})]}),o?e.jsxs(r,{w:"90%",mx:"10%",mt:"16px",justify:"flex-end",children:[e.jsx(d,{onClick:p,colorScheme:"red",color:"white",isDisabled:c,children:"Cancel"}),e.jsx(d,{onClick:g,colorScheme:"blue",color:"white",isDisabled:c,ml:"8px",children:"Save"})]}):e.jsx(e.Fragment,{})]})})}):e.jsx(t,{w:"100%",h:"auto",pt:"10px",bg:"#E8F0FC",children:e.jsxs(t,{w:"60%",h:"100%",p:"20px 36px 60px",borderTopRadius:"25px",border:"gray.200",mx:"auto",bg:"white",children:[e.jsx(r,{justify:"space-between",align:"center",fontSize:"34px",children:e.jsx(t,{fontWeight:"bold",children:"Your profile"})}),e.jsxs(x,{w:"100%",h:"60vh",mt:"20px",spacing:2,children:[e.jsx(r,{w:"100%",justify:"center",children:e.jsxs(t,{position:"relative",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:[e.jsx(b,{name:i.name,src:o||i.avatar,bg:"#1366DE",color:"white",size:"2xl"}),l?e.jsx(r,{justify:"center",align:"center",position:"absolute",top:0,left:"50%",right:0,bottom:0,transform:"translateX(-50%)",w:"100%",borderRadius:"50%",bg:"linear-gradient(0deg, rgba(2,0,36,1) 0%, rgba(255,255,255,0.7591841668307948) 88%)",children:e.jsx(t,{pl:"9px",children:e.jsx(w,{accept:"image/*",listType:"picture-circle",showUploadList:!1,maxCount:1,customRequest:({onSuccess:s})=>setTimeout(()=>{s("ok",null)},0),onChange:f,children:e.jsxs(r,{w:"100%",direction:"column",align:"center",fontWeight:"bold",color:"white",children:[e.jsx(t,{mt:"8px",children:"Upload"}),e.jsx(t,{mt:"4px",children:"Avatar"})]})})})}):""]})}),e.jsx(r,{w:"100%",justify:"center",children:e.jsx(t,{fontWeight:"bold",fontSize:"20px",children:i.name})}),e.jsx(t,{mt:"56px",mx:"10%",fontWeight:"bold",children:"General information"}),e.jsxs(x,{w:"90%",p:"16px",mx:"10%",fontSize:"16px",spacing:2,border:"1px solid gray",borderRadius:"lg",children:[e.jsxs(r,{w:"100%",children:[e.jsx(t,{fontWeight:"bold",w:"20%",children:"Email:"}),e.jsx(t,{w:"80%",children:i.email})]}),e.jsxs(r,{w:"100%",children:[e.jsx(t,{fontWeight:"bold",w:"20%",children:"Phone:"}),e.jsx(t,{w:"80%",children:i.phone})]}),e.jsxs(r,{w:"100%",children:[e.jsx(t,{fontWeight:"bold",w:"20%",children:"Date of birth:"}),e.jsx(t,{w:"80%",children:i.date_of_birth})]}),e.jsxs(r,{w:"100%",children:[e.jsx(t,{fontWeight:"bold",w:"20%",children:"Age:"}),e.jsx(t,{w:"80%",children:i.age})]})]}),o?e.jsxs(r,{w:"90%",mx:"10%",mt:"16px",justify:"flex-end",children:[e.jsx(d,{onClick:p,colorScheme:"red",color:"white",isDisabled:c,children:"Cancel"}),e.jsx(d,{onClick:g,colorScheme:"blue",color:"white",isDisabled:c,ml:"8px",children:"Save"})]}):e.jsx(e.Fragment,{})]})]})})]})})}export{$ as default};
